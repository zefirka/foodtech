(this.webpackJsonpfoodtech=this.webpackJsonpfoodtech||[]).push([[4],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(44),c=a(36),r=a(1),l=a.n(r),s=a(24),i=(a(47),a(13)),o=a(112),m=a(23);l.a.Component;l.a.Component;var u=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},f=function(e){return e},p=l.a.forwardRef;"undefined"===typeof p&&(p=f);var E=p((function(e,t){var a=e.innerRef,n=e.navigate,c=e.onClick,r=Object(o.a)(e,["innerRef","navigate","onClick"]),s=r.target,m=Object(i.a)({},r,{onClick:function(e){try{c&&c(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return m.ref=f!==p&&t||a,l.a.createElement("a",m)}));var v=p((function(e,t){var a=e.component,c=void 0===a?E:a,r=e.replace,s=e.to,v=e.innerRef,b=Object(o.a)(e,["component","replace","to","innerRef"]);return l.a.createElement(n.e.Consumer,null,(function(e){e||Object(m.a)(!1);var a=e.history,n=d(u(s,e.location),e.location),o=n?a.createHref(n):"",E=Object(i.a)({},b,{href:o,navigate:function(){var t=u(s,e.location);(r?a.replace:a.push)(t)}});return f!==p?E.ref=t||v:E.innerRef=v,l.a.createElement(c,E)}))})),b=function(e){return e},y=l.a.forwardRef;"undefined"===typeof y&&(y=b);y((function(e,t){var a=e["aria-current"],c=void 0===a?"page":a,r=e.activeClassName,s=void 0===r?"active":r,f=e.activeStyle,p=e.className,E=e.exact,h=e.isActive,N=e.location,g=e.strict,O=e.style,C=e.to,j=e.innerRef,_=Object(o.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return l.a.createElement(n.e.Consumer,null,(function(e){e||Object(m.a)(!1);var a=N||e.location,r=d(u(C,a),a),o=r.pathname,T=o&&o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=T?Object(n.f)(a.pathname,{path:T,exact:E,strict:g}):null,I=!!(h?h(A,a):A),w=I?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(p,s):p,P=I?Object(i.a)({},O,{},f):O,R=Object(i.a)({"aria-current":I&&c||null,className:w,style:P,to:r},_);return b!==y?R.ref=t||j:R.innerRef=j,l.a.createElement(v,R)}))}))},467:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(118),l=a(470),s=a(471),i=a(473),o=a(469),m=a(472),u=a(476),d=a(478),f=a(117),p=a(468);a(490);var E=Object(p.a)(({bem:e,height:t,children:a,itemsCount:n,maxItemsCount:r=3,activeItemIndex:l})=>{const s=c.a.useRef(null),i=c.a.useRef(null),[o,m]=c.a.useState({topOverlap:!1,bottomOverlap:n>r}),u=()=>{if(s.current){const e=s.current.scrollTop;m({topOverlap:e>=40,bottomOverlap:!(!i.current||!s.current)&&i.current.offsetHeight>=s.current.scrollTop+40+s.current.clientHeight})}};c.a.useEffect(()=>{if(i.current&&s.current&&-1!==l){const e=i.current.clientHeight/n;s.current.scrollTo({top:e*l,behavior:"smooth"}),u()}},[l]);const{topOverlap:d,bottomOverlap:f}=o,p={height:`calc(100vh * ${t||220} / 540)`};return c.a.createElement("div",{style:p,className:e.modify({topOverlap:d,bottomOverlap:f})},c.a.createElement("div",{style:p,onScroll:u,className:e("inner"),ref:s},c.a.createElement("div",{ref:i},a)))},"ScrollWrapper"),v=a(474);a(491);const b=({bem:e,quantity:t,focused:a})=>c.a.createElement("div",{className:e("quantitySlider")},a&&c.a.createElement("span",{className:e("qtyIconLess")}),c.a.createElement("div",{className:e.modify({focused:a},"qtyItems")},c.a.createElement("span",{className:e("qtyItem")},t)),a&&c.a.createElement("span",{className:e("qtyIconMore")})),y=Object(r.withFocusable)()(Object(p.a)(Object(f.a)(({bem:e,name:t,focused:a,price:n,id:r,index:l,cart:s,imagesUrls:i,clearName:m})=>{if(!s.itemsMap[r])return null;const u=s.itemsMap[r].length;return c.a.createElement("tr",{className:e()},c.a.createElement("td",{className:e("cell","index")},l),c.a.createElement("td",{className:e("cell","imgCell")},c.a.createElement(v.a,{index:!1},c.a.createElement("img",{src:i[0],alt:m,className:e("img")}))),c.a.createElement("td",{className:e("description","cell")},c.a.createElement("div",{className:e("row")},c.a.createElement(o.a,{type:"title"},t)),c.a.createElement("div",null,c.a.createElement(o.a,{type:"subheaderDescription"},n,"\u20bd"))),c.a.createElement("td",{className:e("quantity","cell")},c.a.createElement("div",{className:e("quantityIcons")},c.a.createElement(b,{focused:a,bem:e,quantity:u}))))}),"CartRow")),h=Object(r.withFocusable)()(({focused:e,bem:t,children:a})=>c.a.createElement("button",{type:"button",className:t.modify({focused:e},"button")},a));var N=Object(p.a)(Object(f.a)(({cart:e,bem:t,activeItemIndex:a})=>{const n=Object.keys(e.itemsMap).length,r=c.a.createElement("table",{className:t("table")},c.a.createElement("tbody",null,Object.entries(e.itemsMap).map(([e,t],a)=>{const n="CART_ITEM_"+e;return c.a.createElement(y,Object.assign({},t[0],{focusKey:n,index:a+1,key:e}))})));return c.a.createElement("div",{className:t()},c.a.createElement("div",{className:t("tableWrapper")},n>3?c.a.createElement(E,{height:280,activeItemIndex:a,itemsCount:n},r):r),c.a.createElement(h,{bem:t,focusKey:"PAY_BUTTON"},c.a.createElement(o.a,{type:"subheader"},"\u041a \u043e\u043f\u043b\u0430\u0442\u0435 ",e.totalPrice," \u20bd")))}),"CartTable"),g=a(22);function O(e,t,a){const[n,c]=e.map((e,t)=>[t,e]).find(e=>-1!==e[1].indexOf(a))||[0,e[0]],r=c.indexOf(a);if("up"===t){if(0===r){return e[n-1<0?e.length-1:n-1][0]}return e[n][r-1]}if(r===c.length-1){return e[n+1>e.length-1?0:n+1][0]}return e[n][r+1]}a(492);var C=a(493),j=a.n(C);const _=37,T=39,A=38,I=40;t.default=Object(r.withFocusable)()(Object(f.a)(({ui:e,cart:t,setFocus:a,pauseSpatialNavigation:n,resumeSpatialNavigation:r})=>{const[f,p]=c.a.useState("PAY_BUTTON"),E=c.a.useRef(null),v=e=>{p(e),a(e)},b=[["NAVIGATION_ADDRESS"],Object.keys(t.itemsMap).map(e=>"CART_ITEM_"+e),["PAY_BUTTON"]];c.a.useEffect(()=>{if(0===Object.entries(t.itemsMap).length)return e.gotoPage(g.b.MAP);setTimeout(()=>{E.current&&(E.current.style.opacity="0",setTimeout(()=>{E.current&&E.current.remove()},500))},2500),a(f);const c=a=>{if(a.preventDefault(),a.cancelBubble=!0,[A,I].includes(a.keyCode)){const e=a.keyCode===A?"up":"down",t=O(b,e,f);return v(t)}if([_,T].includes(a.keyCode)&&f.startsWith("CART_ITEM"))return(e=>{const a=f.replace("CART_ITEM_","");if(f.startsWith("CART_ITEM"))if(e===_){if(1===t.itemsMap[a].length){const e=O(b,"down",f);v(e)}t.removeFromCart(a)}else t.addToCart(a)})(a.keyCode);13===a.keyCode&&("NAVIGATION_ADDRESS"===f?e.gotoPage(g.b.MAP):"PAY_BUTTON"===f&&alert("PAY"))};return window.document.addEventListener("keydown",c),n(),()=>{window.document.removeEventListener("keydown",c),r()}});const y=c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{time:"12 \u043c\u0438\u043d\u0443\u0442"}),c.a.createElement(u.a,{onEnterPress:()=>e.gotoPage(g.b.MAP),focusKey:"NAVIGATION_ADDRESS"}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",rightElement:y}),c.a.createElement(l.a,{className:"CartPage__container"},c.a.createElement(s.a,{className:"CartPage__row"},c.a.createElement(i.a,{s:2,m:3,l:4,xl:6},c.a.createElement(N,{activeItemIndex:b[1].indexOf(f)})),c.a.createElement(i.a,{s:2,m:3,l:4,xl:6,className:"CartPage__text"},c.a.createElement("div",{className:"CartPage__acent"},c.a.createElement("div",{className:"CartPage__overlay",ref:E}),c.a.createElement("div",{className:"CartPage__visible"},c.a.createElement("img",{src:j.a,className:"CartPage__icon",alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),c.a.createElement("p",null,c.a.createElement(o.a,{type:"subheaderDescription"},"\u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0432\u0430\u043c \u043d\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")),c.a.createElement("p",null,c.a.createElement(o.a,{type:"header"},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"))))))))}))},474:function(e,t,a){"use strict";var n=a(1),c=a.n(n),r=a(468);a(475);const l=({children:e,className:t="",index:a,badge:n,bem:r,size:l})=>{const s=l?{width:l,height:l}:{};return c.a.createElement("div",{className:r.all(r(),t),style:s},a&&c.a.createElement("span",{className:r("index")},a),"undefined"!==typeof n&&c.a.createElement("span",{className:r("badge")},n),e)};Object(r.a)(({src:e,bem:t,...a})=>c.a.createElement(l,Object.assign({},a,{bem:t}),c.a.createElement("img",{src:e,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})));t.a=Object(r.a)(l,"Card")},475:function(e,t,a){},476:function(e,t,a){"use strict";var n=a(1),c=a.n(n),r=a(117),l=a(118),s=a(184),i=a(469),o=a(468),m=a(22);a(477);t.a=Object(l.withFocusable)()(Object(o.a)(Object(r.a)(({user:e,bem:t,isShowAddress:a=!0,focused:n})=>c.a.createElement(s.a,{to:m.b.MAP},c.a.createElement("div",{className:t.modify({focused:n})},c.a.createElement("div",{className:t("icon")}),a&&c.a.createElement("div",{className:t("block")},c.a.createElement("div",null,c.a.createElement(i.a,{type:"subheader"},e.address)),c.a.createElement("div",null,c.a.createElement(i.a,{type:"subheaderDescription"},e.location||"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441")))))),"Address"))},477:function(e,t,a){},478:function(e,t,a){"use strict";var n=a(1),c=a.n(n),r=a(469),l=a(468);a(479);t.a=Object(l.a)(({bem:e,time:t})=>c.a.createElement("div",{className:e()},c.a.createElement("div",{className:e("icon")}),c.a.createElement("div",{className:e("block")},c.a.createElement("div",null,c.a.createElement(r.a,{type:"subheader"},"\u0414\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0437\u0430")),c.a.createElement("div",null,c.a.createElement(r.a,{type:"subheaderDescription"},t)))),"DeliveryTime")},479:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){e.exports=a.p+"static/media/device.29dc30b4.svg"}}]);
//# sourceMappingURL=4.9d2b6fc0.chunk.js.map
{"version":3,"sources":["../../modules/BrowserRouter.js","../../modules/HashRouter.js","../../modules/utils/locationUtils.js","../../modules/Link.js","../../modules/NavLink.js","components/ScrollWrapper/index.tsx","containers/CartTable/index.tsx","tools/spatial-navigation.ts","pages/Cart/index.tsx","components/Card/index.tsx","containers/Address/index.tsx","containers/DeliveryTime/index.tsx","pages/Cart/device.svg"],"names":["React","Component","resolveToLocation","to","currentLocation","normalizeToLocation","createLocation","forwardRefShim","C","forwardRef","LinkAnchor","innerRef","navigate","onClick","rest","target","props","event","ex","isModifiedEvent","forwardedRef","Link","component","replace","RouterContext","context","history","location","href","method","ariaCurrent","activeClassName","activeStyle","classNameProp","className","exact","isActiveProp","isActive","locationProp","strict","styleProp","style","toLocation","path","escapedPath","match","matchPath","classnames","i","joinClassnames","withBem","bem","height","children","itemsCount","maxItemsCount","activeItemIndex","scrollbar","useRef","childrenRef","state","setState","useState","topOverlap","bottomOverlap","handleOnScroll","current","topScroll","scrollTop","offsetHeight","clientHeight","useEffect","itemPadding","scrollTo","top","behavior","modify","onScroll","ref","Quantity","quantity","focused","FocusableProductCart","withFocusable","connectToStore","name","price","id","index","cart","imagesUrls","clearName","itemsMap","length","Card","src","alt","Typography","type","FocusableButton","ConnectedList","Object","keys","scrollableContent","entries","map","itemId","items","focusKey","key","totalPrice","findNextFocusKey","direction","currentRowIndex","rowItems","elem","find","e","indexOf","currentItemIndex","LEFT_ARROW_KEY_CODE","RIGHT_ARROW_KEY_CODE","UP_ARROW_KEY_CODE","DOWN_ARROW_KEY_CODE","ui","setFocus","pauseSpatialNavigation","resumeSpatialNavigation","focus","setCurrentFocusState","overlayRef","setCurrentFocus","FOCUS_MAP","gotoPage","routes","MAP","setTimeout","opacity","remove","onKeydown","preventDefault","cancelBubble","includes","keyCode","nextFocusKey","startsWith","focusedItemId","removeFromCart","addToCart","slideQuantity","alert","window","document","addEventListener","removeEventListener","NavigationRightElement","DeliveryTime","time","Address","onEnterPress","Navigation","title","rightElement","Container","Row","Col","s","m","l","xl","device","badge","size","width","all","user","isShowAddress","address","module","exports"],"mappings":"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","file":"static/js/4.b5154ddc.chunk.js","sourcesContent":["import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport { resolveToLocation, normalizeToLocation } from \"./utils/locationUtils\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const method = replace ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link\";\nimport { resolveToLocation, normalizeToLocation } from \"./utils/locationUtils\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\",\n      activeStyle,\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          const className = isActive\n            ? joinClassnames(classNameProp, activeClassName)\n            : classNameProp;\n          const style = isActive ? { ...styleProp, ...activeStyle } : styleProp;\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  };\n}\n\nexport default NavLink;\n","import React from 'react';\n\nimport withBem from 'hoc/withBem';\nimport './style.scss';\n\nconst DEFAULT_OVERLAP_HEIGHT = 40;\nconst DEFAULT_SCROLLWRAPPER_HEIGHT = 220;\nconst DEFAULT_MAX_ITEMS_COUNT = 3;\n\ninterface ScrollWrapperProps {\n    height: string | number;\n    itemsCount: number;\n    activeItemIndex: number;\n    maxItemsCount: number;\n}\n\nconst ScrollWrapper: React.FC<ScrollWrapperProps & BemProps> = ({\n    bem,\n    height,\n    children,\n    itemsCount,\n    maxItemsCount = DEFAULT_MAX_ITEMS_COUNT, activeItemIndex\n}) => {\n    const scrollbar = React.useRef<HTMLDivElement>(null);\n    const childrenRef = React.useRef<HTMLDivElement>(null);\n\n    const [state, setState] = React.useState({\n        topOverlap: false,\n        bottomOverlap: itemsCount > maxItemsCount,\n    });\n\n    const checkBottomOverlapNeedShow = (): boolean => {\n        if (childrenRef.current && scrollbar.current) {\n            return childrenRef.current.offsetHeight\n                >= scrollbar.current.scrollTop + DEFAULT_OVERLAP_HEIGHT + scrollbar.current.clientHeight;\n        }\n\n        return false;\n    };\n\n    const handleOnScroll = (): void => {\n        if (scrollbar.current) {\n            const topScroll = scrollbar.current.scrollTop;\n            const checkTopOverlapNeedShow = topScroll >= DEFAULT_OVERLAP_HEIGHT;\n        \n            setState({\n                topOverlap: checkTopOverlapNeedShow,\n                bottomOverlap: checkBottomOverlapNeedShow(),\n            });\n        }\n    };\n    \n\n    React.useEffect(() => {\n        if (childrenRef.current && scrollbar.current && activeItemIndex !== -1) {\n            const itemPadding = childrenRef.current.clientHeight / itemsCount;\n            scrollbar.current.scrollTo({top: itemPadding * activeItemIndex, behavior: 'smooth'});\n            handleOnScroll();\n        }\n    }, [activeItemIndex]); // eslint-disable-line\n\n    const {topOverlap, bottomOverlap} = state;\n    const cssHeight = height || DEFAULT_SCROLLWRAPPER_HEIGHT;\n    const style = {\n        height: `calc(100vh * ${cssHeight} / 540)`,\n    };\n\n    return (\n        <div style={style} className={bem.modify({topOverlap, bottomOverlap})}>\n            <div\n                style={style}\n                onScroll={handleOnScroll}\n                className={bem('inner')}\n                ref={scrollbar}\n            >\n                <div ref={childrenRef}>\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default withBem(ScrollWrapper, 'ScrollWrapper');\n","import React from 'react';\nimport {withFocusable, FocusableProps, Layout} from '@noriginmedia/react-spatial-navigation';\nimport {connectToStore} from 'tools/connect';\n\nimport {StoreType} from 'stores/types';\nimport {ProductItemModel} from 'stores/product';\n\nimport ScrollWrapper from 'components/ScrollWrapper';\nimport Typography from 'components/Typography';\nimport Card from 'components/Card';\n\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\ninterface QuantitySliderProps {\n    quantity: number;\n    focused: boolean;\n}\n\nconst Quantity: React.FC<BemProps & QuantitySliderProps > = ({bem, quantity, focused}) => {\n    return (\n        <div className={bem('quantitySlider')}>\n            {focused && <span className={bem('qtyIconLess')} />}\n            <div className={bem.modify({focused}, 'qtyItems')}>\n                <span className={bem('qtyItem')}>\n                    {quantity}\n                </span>\n            </div>\n            {focused && <span className={bem('qtyIconMore')} />}\n        </div>\n    );\n};\n\ninterface CartRowProps extends ProductItemModel {\n    index: number;\n}\n\nconst CartRow: React.FC<CartRowProps & BemProps & StoreType & FocusableProps> = ({\n    bem,\n    name,\n    focused,\n    price,\n    id,\n    index,\n    cart,\n    imagesUrls,\n    clearName,\n}) => {\n    if (!cart.itemsMap[id]) {\n        return null;\n    }\n\n    const quantity = cart.itemsMap[id].length;\n    \n    return (\n        <tr className={bem()}>\n            <td className={bem('cell', 'index')}>\n                {index}\n            </td>\n            <td className={bem('cell', 'imgCell')}>\n                <Card index={false}>\n                    <img src={imagesUrls[0]} alt={clearName} className={bem('img')} />\n                </Card>\n            </td>\n            <td className={bem('description', 'cell')}>\n                <div className={bem('row')}>\n                    <Typography type=\"title\">{name}</Typography>\n                </div>\n                <div>\n                    <Typography type=\"subheaderDescription\">{price}₽</Typography>\n                </div>\n            </td>\n            <td className={bem('quantity', 'cell')}>\n                <div className={bem('quantityIcons')}>\n                    <Quantity focused={focused} bem={bem} quantity={quantity} />\n                </div>\n            </td>\n        </tr>\n    );\n};\n\nconst FocusableProductCart = withFocusable()(withBem(connectToStore(CartRow), 'CartRow'));\n\nconst Button: React.FC<BemProps & FocusableProps> = ({focused, bem, children}) => {\n    return (\n        <button type=\"button\" className={bem.modify({focused}, 'button')}>\n            {children}\n        </button>\n    );\n};\n\nconst FocusableButton = withFocusable()(Button);\n\n\ninterface CartTableType {\n    activeItemIndex: string;\n}\n\nconst MAX_ITEMS_COUNT = 3;\nconst CART_HEIGHT_PX = 280;\n\nconst CartTable: React.FC<StoreType & FocusableProps & BemProps & CartTableType> = ({cart, bem, activeItemIndex}) => {\n    const itemsCount = Object.keys(cart.itemsMap).length;\n\n    const scrollableContent = (\n        <table className={bem('table')}>\n            <tbody>\n                {\n                    Object.entries(cart.itemsMap).map((([itemId, items], index) => {\n                        const focusKey = 'CART_ITEM_' + itemId;\n                        return (\n                            <FocusableProductCart\n                                {...items[0]}\n                                focusKey={focusKey}\n                                index={index + 1}\n                                key={itemId}\n                            />\n                        );\n                    }))\n                }\n            </tbody>\n        </table>\n    );\n\n    return (\n        <div className={bem()}>\n            <div className={bem('tableWrapper')}>\n                {itemsCount > MAX_ITEMS_COUNT ? (\n                    <ScrollWrapper height={CART_HEIGHT_PX} activeItemIndex={activeItemIndex} itemsCount={itemsCount}>\n                        {scrollableContent}\n                    </ScrollWrapper>\n                ) : scrollableContent}\n            </div>\n            <FocusableButton bem={bem} focusKey=\"PAY_BUTTON\">\n                <Typography type=\"subheader\">К оплате {cart.totalPrice} ₽</Typography>\n            </FocusableButton>\n        </div>\n    );\n};\n\nconst ConnectedList = withBem(connectToStore(CartTable), 'CartTable');\n\nexport default ConnectedList;\n","export default function findNextFocusKey(map: Array<string[]>, direction: 'up' | 'down', focusKey: string): string {\n    const [currentRowIndex, rowItems] = map\n        .map((elem, index): [number, string[]] => ([index, elem]))\n        .find((e) => e[1].indexOf(focusKey) !== -1) || [0, map[0]];\n    const currentItemIndex = rowItems.indexOf(focusKey);\n\n    if (direction === 'up') {\n        if (currentItemIndex === 0) {\n            const nextRowIndex = currentRowIndex - 1 < 0 ? map.length - 1 : currentRowIndex - 1;\n            return map[nextRowIndex][0];\n        }\n        return map[currentRowIndex][currentItemIndex - 1];\n    }\n    if (currentItemIndex === rowItems.length - 1) {\n        const nextRowIndex = currentRowIndex + 1 > map.length - 1 ? 0 : currentRowIndex + 1;\n        return map[nextRowIndex][0];\n    }\n\n    return map[currentRowIndex][currentItemIndex + 1];\n}\n","import React from 'react';\nimport {\n    withFocusable,\n    FocusableProps,\n} from '@noriginmedia/react-spatial-navigation';\n\nimport Container from 'components/Grids/Container';\nimport Row from 'components/Grids/Row';\nimport Col from 'components/Grids/Col';\nimport Typography from 'components/Typography';\nimport Navigation from 'containers/Navigation';\nimport Address from 'containers/Address';\nimport DeliveryTime from 'containers/DeliveryTime';\nimport CartTable from 'containers/CartTable';\n\nimport {routes} from 'stores/ui';\nimport {connectToStore} from 'tools/connect';\nimport findNextFocusKey from 'tools/spatial-navigation';\n\nimport {StoreType} from 'stores/types';\n\nimport './style.scss';\n\nimport device from './device.svg';\n\nconst LEFT_ARROW_KEY_CODE = 37;\nconst RIGHT_ARROW_KEY_CODE = 39;\nconst UP_ARROW_KEY_CODE = 38;\nconst DOWN_ARROW_KEY_CODE = 40;\nconst ENTER_KEY_CODE = 13;\n\nconst ACCENT_DELAY_TIMEOUT = 2500;\n\nconst CartPage: React.FC<StoreType & FocusableProps> = ({ui, cart, setFocus, pauseSpatialNavigation, resumeSpatialNavigation}) => {\n    const [focus, setCurrentFocusState] = React.useState('PAY_BUTTON');\n    const overlayRef = React.useRef<HTMLDivElement>(null);\n\n    const setCurrentFocus = (key: string): void => {\n        setCurrentFocusState(key);\n        setFocus(key);\n    };\n\n    const FOCUS_MAP: Array<string[]> = [\n        [\n            'NAVIGATION_ADDRESS',\n        ],\n        Object.keys(cart.itemsMap).map((itemId) => {\n            return 'CART_ITEM_' + itemId;\n        }),\n        [\n            'PAY_BUTTON',\n        ],\n    ];\n\n    const animateAccent = (): void => {\n        setTimeout(() => {\n            if (overlayRef.current) {\n                overlayRef.current.style.opacity = '0';\n                setTimeout(() => {\n                    if (overlayRef.current) {\n                        overlayRef.current.remove();\n                    }\n                }, 500);\n            }\n        }, ACCENT_DELAY_TIMEOUT);\n    };\n\n    const slideQuantity = (keyCode: number): void => {\n        const focusedItemId = focus.replace('CART_ITEM_', '');\n        if (focus.startsWith('CART_ITEM')) {\n            if (keyCode === LEFT_ARROW_KEY_CODE) {\n                if (cart.itemsMap[focusedItemId].length === 1) {\n                    const nextFocusKey = findNextFocusKey(FOCUS_MAP, 'down', focus);\n                    setCurrentFocus(nextFocusKey);\n                }\n                cart.removeFromCart(focusedItemId);\n            } else {\n                cart.addToCart(focusedItemId);\n            }\n        }\n    };\n\n    React.useEffect(() => {\n        if (Object.entries(cart.itemsMap).length === 0) {\n            return ui.gotoPage(routes.MAP);\n        }\n\n        animateAccent();\n        setFocus(focus);\n\n        const onKeydown = (event: KeyboardEvent): void => {\n            event.preventDefault();\n            event.cancelBubble = true;\n\n            const isUpOrDown = [UP_ARROW_KEY_CODE, DOWN_ARROW_KEY_CODE].includes(event.keyCode);\n            if (isUpOrDown) {\n                const direction = event.keyCode === UP_ARROW_KEY_CODE ? 'up' : 'down';\n                const nextFocusKey = findNextFocusKey(FOCUS_MAP, direction, focus);\n                return setCurrentFocus(nextFocusKey);\n            }\n\n            const isLeftOrRight = [LEFT_ARROW_KEY_CODE, RIGHT_ARROW_KEY_CODE].includes(event.keyCode);\n\n            if (isLeftOrRight && focus.startsWith('CART_ITEM')) {\n                return slideQuantity(event.keyCode);\n            }\n\n            if (event.keyCode === ENTER_KEY_CODE) {\n                if (focus === 'NAVIGATION_ADDRESS') {\n                    ui.gotoPage(routes.MAP);\n                } else if (focus === 'PAY_BUTTON') {\n                    alert('PAY');\n                }\n            }\n        };\n\n        window.document.addEventListener('keydown', onKeydown);\n        \n        pauseSpatialNavigation();\n\n        return (): void => {\n            window.document.removeEventListener('keydown', onKeydown);\n            resumeSpatialNavigation();\n        };\n    });\n\n    const NavigationRightElement = (\n        <>\n            <DeliveryTime time=\"12 минут\" />\n            <Address onEnterPress={(): void => ui.gotoPage(routes.MAP)} focusKey=\"NAVIGATION_ADDRESS\" />\n        </>\n    );\n        \n    return (\n        <>\n            <Navigation title=\"Корзина\" rightElement={NavigationRightElement} />\n            <Container className=\"CartPage__container\">\n                <Row className=\"CartPage__row\">\n                    <Col s={2} m={3} l={4} xl={6}>\n                        <CartTable activeItemIndex={FOCUS_MAP[1].indexOf(focus)} />\n                    </Col>\n                    <Col s={2} m={3} l={4} xl={6} className=\"CartPage__text\">\n                        <div className=\"CartPage__acent\">\n                            <div className=\"CartPage__overlay\" ref={overlayRef} />\n                            <div className=\"CartPage__visible\">\n                                <img src={device} className=\"CartPage__icon\" alt=\"Иконка телефона\" />\n                                <p>\n                                    <Typography type=\"subheaderDescription\">Мы отправили уведомление вам на телефон</Typography>\n                                </p>\n                                <p>\n                                    <Typography type=\"header\">Дополните свой адрес и укажите номер телефона, чтобы сделать заказ</Typography>\n                                </p>\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n            </Container>\n        </>\n    );\n};\n\nexport default withFocusable()(connectToStore(CartPage));\n","import React from 'react';\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\n\ninterface Card {\n    className?: string;\n    children: React.ReactNode;\n    index?: number | string | false;\n    badge: string;\n    bem: BemRenderer;\n    size?: number;\n}\n\n\nconst Card: React.FC<Card> = ({children, className = '', index, badge, bem, size}) => {\n    const style = size ? {width: size, height: size} : {};\n    return (\n        <div className={bem.all(bem(), className)} style={style}>\n            {index && (\n                <span className={bem('index')}>\n                    {index}\n                </span>\n            )}\n            {typeof badge !== 'undefined' && (\n                <span className={bem('badge')}>\n                    {badge}\n                </span>\n            )}\n            {children}\n        </div>\n    );\n};\n\ninterface ImageCardProps extends Card {\n    src: string;\n}\n\nexport const ImageCard = withBem(({src, bem, ...rest}: ImageCardProps) => {\n    return (\n        <Card {...rest} bem={bem}>\n            <img src={src} alt=\"Картинка\" />\n        </Card>\n    );\n});\n\nexport default withBem(Card, 'Card');\n","import React from 'react';\nimport {connectToStore} from 'tools/connect';\nimport {withFocusable, FocusableProps} from '@noriginmedia/react-spatial-navigation';\nimport {StoreType} from 'stores/types';\nimport {Link} from 'react-router-dom';\nimport Typography from 'components/Typography';\n\nimport withBem from 'hoc/withBem';\nimport {routes} from 'stores/ui';\nimport './style.scss';\n\ninterface AddressProps {\n    isShowAddress?: boolean;\n}\n\nconst Address: React.FC<AddressProps & StoreType & BemProps & FocusableProps> = ({user, bem, isShowAddress = true, focused}) => {\n    return (\n        <Link to={routes.MAP}>\n            <div className={bem.modify({focused})}>\n                <div className={bem('icon')} />\n                {isShowAddress && (\n                    <div className={bem('block')}>\n                        <div>\n                            <Typography type=\"subheader\">{user.address}</Typography>\n                        </div>\n                        <div>\n                            <Typography type=\"subheaderDescription\">{user.location || 'Уточнить адрес'}</Typography>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </Link>\n    );\n};\n\nexport default withFocusable()(withBem(connectToStore(Address), 'Address'));\n","import React from 'react';\nimport Typography from 'components/Typography';\n\nimport withBem from 'hoc/withBem';\n\nimport './style.scss';\n\ninterface DeliveryTimeProps {\n    time?: string;\n}\n\nconst DeliveryTime: React.FC<DeliveryTimeProps & BemProps> = ({bem, time}) => {\n    return (\n        <div className={bem()}>\n            <div className={bem('icon')} />\n            <div className={bem('block')}>\n                <div>\n                    <Typography type=\"subheader\">Доставим за</Typography>\n                </div>\n                <div>\n                    <Typography type=\"subheaderDescription\">{time}</Typography>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default withBem(DeliveryTime, 'DeliveryTime');\n","module.exports = __webpack_public_path__ + \"static/media/device.29dc30b4.svg\";"],"sourceRoot":""}
(this.webpackJsonpfoodtech=this.webpackJsonpfoodtech||[]).push([[5],{466:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(118),i=a(470),l=a(471),o=function(){return(o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var s=function(e){var t=e.animate,a=e.backgroundColor,r=e.backgroundOpacity,c=e.baseUrl,i=e.children,l=e.foregroundColor,s=e.foregroundOpacity,d=e.gradientRatio,m=e.uniqueKey,u=e.interval,f=e.rtl,b=e.speed,p=e.style,E=e.title,h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=m||Math.random().toString(36).substring(6),O=g+"-diff",y=g+"-animated-diff",j=g+"-aria",v=f?{transform:"scaleX(-1)"}:null,w="0; "+u+"; 1",C=b+"s";return Object(n.createElement)("svg",o({"aria-labelledby":j,role:"img",style:o(o({},p),v)},h),E?Object(n.createElement)("title",{id:j},E):null,Object(n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+c+"#"+O+")",style:{fill:"url("+c+"#"+y+")"}}),Object(n.createElement)("defs",{role:"presentation"},Object(n.createElement)("clipPath",{id:O},i),Object(n.createElement)("linearGradient",{id:y},Object(n.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-d+"; "+-d+"; 1",keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:l,stopOpacity:s},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-d/2+"; "+-d/2+"; "+(1+d/2),keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+d),keyTimes:w,dur:C,repeatCount:"indefinite"})))))};s.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var d=function(e){return e.children?Object(n.createElement)(s,o({},e)):Object(n.createElement)(m,o({},e))},m=function(e){return Object(n.createElement)(d,o({viewBox:"0 0 476 124"},e),Object(n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},u=d;var f=({width:e=960,row:t=1,column:a=4,padding:n=8,borderRadius:c=8,...i})=>{const l=[];let o;for(let s=1;s<=t;s+=1)for(let i=0;i<a;i+=1){const d=(e-n*(a+1))/a,m=i*(d+2*n),u=221,f=20,b=0,p=b+n+u+n/2+20;l.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{key:`${s}${i}1`,x:m,y:b,rx:c,ry:c,width:d,height:u}))),s===t&&(o=p+f)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,Object.assign({viewBox:`0 0 ${e} ${o}`,width:"100%",height:"100%",speed:2},i),l))};a(479);var b=({isActive:e=!1,onLoading:t,children:a,className:n=""})=>{const[c,i]=r.a.useState({width:0,height:0}),l=r.a.useRef(null);return r.a.useEffect(()=>{i(l.current?l.current.getBoundingClientRect():{width:0,height:0})},[l,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l,className:`ContainerLoader__parentNode ${e?"ContainerLoader__parentNode_transparent":""} ${n}`,onClick:t=>e&&t.preventDefault()},a),e&&l.current&&r.a.createElement("div",{className:"ContainerLoader"},t))},p=a(472),E=a(117),h=a(475),g=a(468);a(484);const O=Object(g.a)(({focused:e,bem:t,imagesUrls:a,clearName:n,countInCart:c,name:i,price:l,className:o="",index:s,id:d})=>r.a.createElement("div",{className:t.all(o,t.modify({focused:e})),"data-itemId":d},r.a.createElement(h.a,{index:s,className:t("card")},r.a.createElement("img",{className:t("img"),src:a[0],alt:n||"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})),r.a.createElement("div",{className:t("description")},r.a.createElement("span",{className:t.modify({focused:e},"callToAction")}),r.a.createElement("div",{className:t("row")},r.a.createElement("span",{className:t("title","name")},i)),r.a.createElement("div",{className:t("priceRow")},r.a.createElement("span",{className:t("title","price")},l," \u20bd"),c&&r.a.createElement("span",{className:t("title","badge")},c)))),"Product");var y=Object(c.withFocusable)()(O),j=a(473);a(485);const v=Object(j.a)("ProductsList");function w(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}const C=Object(E.a)(({products:e,ui:t,cart:a,setFocus:n})=>{const c=r.a.useRef(null),l=(t,a)=>{c.current&&(!function(e,t){const{width:a,left:n,right:r}=e.getBoundingClientRect(),{width:c}=t.getBoundingClientRect(),{offsetLeft:i}=e;if(n<0)t.style.transform=`translateX(-${i}px)`;else if(r>window.innerWidth){const n=(c-4*a)/4,r=Array.from(t.children).indexOf(e)-4+1,i=r*a+n*r;t.style.transform=`translateX(-${Math.round(i)}px)`}}(a.node,c.current),setTimeout(()=>{let t=1,a=0;if(c.current)for(const n of c.current.children)w(n)?(e.setVisibility(e.items[a],!0,t),t+=1):e.setVisibility(e.items[a],!1,null),a+=1},400))};return r.a.useEffect(()=>{c.current&&e.selectedId&&n("CATALOG_ITEM_"+e.selectedId)},[e.selectedId]),r.a.createElement("div",{className:v()},r.a.createElement(i.a,null,r.a.createElement("div",{className:v("row"),ref:c},e.items.map(e=>r.a.createElement(y,Object.assign({index:e.index,itemId:e.id,countInCart:a.itemsMap[e.id]&&a.itemsMap[e.id].length,key:e.id,focusKey:"CATALOG_ITEM_"+e.id,onEnterPress:()=>a.addToCart(e.id),onBecameFocused:t=>l(e.id,t)},e))))))});var N=Object(c.withFocusable)({trackChildren:!0})(C),x=a(185),k=a(469),P=a(32);a(486);var T=Object(c.withFocusable)()(Object(g.a)(Object(E.a)(({cart:e,focused:t,bem:a})=>r.a.createElement(x.a,{to:P.b.CART},r.a.createElement("div",{className:a.modify({focused:t})},r.a.createElement("div",{className:a("icon")},e.count>0&&r.a.createElement("span",{className:a("badge")},e.count)),r.a.createElement("div",{className:a("block")},r.a.createElement("div",null,r.a.createElement(k.a,{type:"subheader"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),r.a.createElement("div",null,r.a.createElement(k.a,{type:"subheaderDescription"},e.totalPrice," \u20bd")))))),"Cart")),R=a(476);t.default=Object(c.withFocusable)({trackChildren:!0})(Object(E.a)(({ui:e,cart:t,setFocus:a})=>{r.a.useEffect(()=>{a("ITEMS")},[a,e.isLoading]);const n=t.count>0,c=r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{onEnterPress:()=>e.gotoPage(P.b.MAP),isShowAddress:!n}),n&&r.a.createElement(T,{onEnterPress:()=>e.gotoPage(P.b.CART)})),o=r.a.createElement(i.a,null,r.a.createElement(l.a,null,r.a.createElement(f,{backgroundColor:"#262828",foregroundColor:"#414545"})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{title:"\u0421\u0430\u043c\u043e\u043a\u0430\u0442",subtitle:"\xab\u0425\u043e\u0447\u0443 \u0435\u0434\u0443 \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443\xbb",rightElement:c}),r.a.createElement(b,{isActive:e.isLoading,onLoading:o},r.a.createElement(N,{trackChildren:!0,focusKey:"ITEMS"})))}))},479:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){}}]);
//# sourceMappingURL=5.f9e3f797.chunk.js.map
(this.webpackJsonpfoodtech=this.webpackJsonpfoodtech||[]).push([[5],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(44),r=a(36),c=a(1),i=a.n(c),l=a(24),o=(a(47),a(13)),s=a(112),u=a(23);i.a.Component;i.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},m=function(e,t){return"string"===typeof e?Object(l.c)(e,null,null,t):e},f=function(e){return e},b=i.a.forwardRef;"undefined"===typeof b&&(b=f);var p=b((function(e,t){var a=e.innerRef,n=e.navigate,r=e.onClick,c=Object(s.a)(e,["innerRef","navigate","onClick"]),l=c.target,u=Object(o.a)({},c,{onClick:function(e){try{r&&r(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return u.ref=f!==b&&t||a,i.a.createElement("a",u)}));var E=b((function(e,t){var a=e.component,r=void 0===a?p:a,c=e.replace,l=e.to,E=e.innerRef,h=Object(s.a)(e,["component","replace","to","innerRef"]);return i.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=e.history,n=m(d(l,e.location),e.location),s=n?a.createHref(n):"",p=Object(o.a)({},h,{href:s,navigate:function(){var t=d(l,e.location);(c?a.replace:a.push)(t)}});return f!==b?p.ref=t||E:p.innerRef=E,i.a.createElement(r,p)}))})),h=function(e){return e},g=i.a.forwardRef;"undefined"===typeof g&&(g=h);g((function(e,t){var a=e["aria-current"],r=void 0===a?"page":a,c=e.activeClassName,l=void 0===c?"active":c,f=e.activeStyle,b=e.className,p=e.exact,y=e.isActive,v=e.location,O=e.strict,j=e.style,w=e.to,C=e.innerRef,N=Object(s.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return i.a.createElement(n.e.Consumer,null,(function(e){e||Object(u.a)(!1);var a=v||e.location,c=m(d(w,a),a),s=c.pathname,x=s&&s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=x?Object(n.f)(a.pathname,{path:x,exact:p,strict:O}):null,R=!!(y?y(k,a):k),A=R?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return e})).join(" ")}(b,l):b,P=R?Object(o.a)({},j,{},f):j,T=Object(o.a)({"aria-current":R&&r||null,className:A,style:P,to:c},N);return h!==g?T.ref=t||C:T.innerRef=C,i.a.createElement(E,T)}))}))},466:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(118),i=a(470),l=a(471),o=function(){return(o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var s=function(e){var t=e.animate,a=e.backgroundColor,r=e.backgroundOpacity,c=e.baseUrl,i=e.children,l=e.foregroundColor,s=e.foregroundOpacity,u=e.gradientRatio,d=e.uniqueKey,m=e.interval,f=e.rtl,b=e.speed,p=e.style,E=e.title,h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=d||Math.random().toString(36).substring(6),y=g+"-diff",v=g+"-animated-diff",O=g+"-aria",j=f?{transform:"scaleX(-1)"}:null,w="0; "+m+"; 1",C=b+"s";return Object(n.createElement)("svg",o({"aria-labelledby":O,role:"img",style:o(o({},p),j)},h),E?Object(n.createElement)("title",{id:O},E):null,Object(n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+c+"#"+y+")",style:{fill:"url("+c+"#"+v+")"}}),Object(n.createElement)("defs",{role:"presentation"},Object(n.createElement)("clipPath",{id:y},i),Object(n.createElement)("linearGradient",{id:v},Object(n.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:l,stopOpacity:s},t&&Object(n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:r},t&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:w,dur:C,repeatCount:"indefinite"})))))};s.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var u=function(e){return e.children?Object(n.createElement)(s,o({},e)):Object(n.createElement)(d,o({},e))},d=function(e){return Object(n.createElement)(u,o({viewBox:"0 0 476 124"},e),Object(n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},m=u;var f=({width:e=960,row:t=1,column:a=4,padding:n=8,borderRadius:c=8,...i})=>{const l=[];let o;for(let s=1;s<=t;s+=1)for(let i=0;i<a;i+=1){const u=(e-n*(a+1))/a,d=i*(u+2*n),m=221,f=20,b=0,p=b+n+m+n/2+20;l.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{key:`${s}${i}1`,x:d,y:b,rx:c,ry:c,width:u,height:m}))),s===t&&(o=p+f)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,Object.assign({viewBox:`0 0 ${e} ${o}`,width:"100%",height:"100%",speed:2},i),l))};a(483);var b=({isActive:e=!1,onLoading:t,children:a,className:n=""})=>{const[c,i]=r.a.useState({width:0,height:0}),l=r.a.useRef(null);return r.a.useEffect(()=>{i(l.current?l.current.getBoundingClientRect():{width:0,height:0})},[l,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l,className:`ContainerLoader__parentNode ${e?"ContainerLoader__parentNode_transparent":""} ${n}`,onClick:t=>e&&t.preventDefault()},a),e&&l.current&&r.a.createElement("div",{className:"ContainerLoader"},t))},p=a(472),E=a(117),h=a(474),g=a(468);a(487);const y=Object(g.a)(({focused:e,bem:t,imagesUrls:a,clearName:n,countInCart:c,name:i,price:l,className:o="",index:s,id:u})=>r.a.createElement("div",{className:t.all(o,t.modify({focused:e})),"data-itemId":u},r.a.createElement(h.a,{index:s,className:t("card")},r.a.createElement("img",{className:t("img"),src:a[0],alt:n||"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})),r.a.createElement("div",{className:t("description")},r.a.createElement("span",{className:t.modify({focused:e},"callToAction")}),r.a.createElement("div",{className:t("row")},r.a.createElement("span",{className:t("title","name")},i)),r.a.createElement("div",{className:t("priceRow")},r.a.createElement("span",{className:t("title","price")},l," \u20bd"),c&&r.a.createElement("span",{className:t("title","badge")},c)))),"Product");var v=Object(c.withFocusable)()(y),O=a(480);a(488);const j=Object(O.a)("ProductsList");function w(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}const C=Object(E.a)(({products:e,ui:t,cart:a,setFocus:n})=>{const c=r.a.useRef(null),l=(t,a)=>{c.current&&(!function(e,t){const{width:a,left:n,right:r}=e.getBoundingClientRect(),{width:c}=t.getBoundingClientRect(),{offsetLeft:i}=e;if(n<0)t.style.transform=`translateX(-${i}px)`;else if(r>window.innerWidth){const n=(c-4*a)/4,r=Array.from(t.children).indexOf(e)-4+1,i=r*a+n*r;t.style.transform=`translateX(-${Math.round(i)}px)`}}(a.node,c.current),setTimeout(()=>{let t=1,a=0;if(c.current)for(const n of c.current.children)w(n)?(e.setVisibility(e.items[a],!0,t),t+=1):e.setVisibility(e.items[a],!1,null),a+=1},400))};return r.a.useEffect(()=>{c.current&&e.selectedId&&n("CATALOG_ITEM_"+e.selectedId)},[e.selectedId]),r.a.createElement("div",{className:j()},r.a.createElement(i.a,null,r.a.createElement("div",{className:j("row"),ref:c},e.items.map(e=>r.a.createElement(v,Object.assign({index:e.index,itemId:e.id,countInCart:a.itemsMap[e.id]&&a.itemsMap[e.id].length,key:e.id,focusKey:"CATALOG_ITEM_"+e.id,onEnterPress:()=>a.addToCart(e.id),onBecameFocused:t=>l(e.id,t)},e))))))});var N=Object(c.withFocusable)({trackChildren:!0})(C),x=a(184),k=a(469),R=a(22);a(489);var A=Object(c.withFocusable)()(Object(g.a)(Object(E.a)(({cart:e,focused:t,bem:a})=>r.a.createElement(x.a,{to:R.b.CART},r.a.createElement("div",{className:a.modify({focused:t})},r.a.createElement("div",{className:a("icon")},e.count>0&&r.a.createElement("span",{className:a("badge")},e.count)),r.a.createElement("div",{className:a("block")},r.a.createElement("div",null,r.a.createElement(k.a,{type:"subheader"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),r.a.createElement("div",null,r.a.createElement(k.a,{type:"subheaderDescription"},e.totalPrice," \u20bd")))))),"Cart")),P=a(476);t.default=Object(c.withFocusable)({trackChildren:!0})(Object(E.a)(({ui:e,cart:t,setFocus:a})=>{r.a.useEffect(()=>{a("ITEMS")},[a,e.isLoading]);const n=t.count>0,c=r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{onEnterPress:()=>e.gotoPage(R.b.MAP),isShowAddress:!n}),n&&r.a.createElement(A,{onEnterPress:()=>e.gotoPage(R.b.CART)})),o=r.a.createElement(i.a,null,r.a.createElement(l.a,null,r.a.createElement(f,{backgroundColor:"#262828",foregroundColor:"#414545"})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{title:"\u0421\u0430\u043c\u043e\u043a\u0430\u0442",subtitle:"\xab\u0425\u043e\u0447\u0443 \u0435\u0434\u0443 \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443\xbb",rightElement:c}),r.a.createElement(b,{isActive:e.isLoading,onLoading:o},r.a.createElement(N,{trackChildren:!0,focusKey:"ITEMS"})))}))},474:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(468);a(475);const i=({children:e,className:t="",index:a,badge:n,bem:c,size:i})=>{const l=i?{width:i,height:i}:{};return r.a.createElement("div",{className:c.all(c(),t),style:l},a&&r.a.createElement("span",{className:c("index")},a),"undefined"!==typeof n&&r.a.createElement("span",{className:c("badge")},n),e)};Object(c.a)(({src:e,bem:t,...a})=>r.a.createElement(i,Object.assign({},a,{bem:t}),r.a.createElement("img",{src:e,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})));t.a=Object(c.a)(i,"Card")},475:function(e,t,a){},476:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(117),i=a(118),l=a(184),o=a(469),s=a(468),u=a(22);a(477);t.a=Object(i.withFocusable)()(Object(s.a)(Object(c.a)(({user:e,bem:t,isShowAddress:a=!0,focused:n})=>r.a.createElement(l.a,{to:u.b.MAP},r.a.createElement("div",{className:t.modify({focused:n})},r.a.createElement("div",{className:t("icon")}),a&&r.a.createElement("div",{className:t("block")},r.a.createElement("div",null,r.a.createElement(o.a,{type:"subheader"},e.address)),r.a.createElement("div",null,r.a.createElement(o.a,{type:"subheaderDescription"},e.location||"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441")))))),"Address"))},477:function(e,t,a){},483:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){}}]);
//# sourceMappingURL=5.2b5f2b5a.chunk.js.map